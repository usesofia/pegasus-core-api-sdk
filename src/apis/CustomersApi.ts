/* tslint:disable */
/* eslint-disable */
/**
 * Sofia core-api
 * Api principal do sistema da Sofia para gerenciamento financeiro de startups e empresas modernas.
 *
 * The version of the OpenAPI document: 3.3.1
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import type {
  CreateCustomerRequestBodyDto,
  CustomerAnalyticsResponseDto,
  CustomerDto,
  CustomersPageDto,
  ExceptionResponseEntity,
  PartialUpdateCustomerRequestBodyDto,
} from '../models/index';
import {
    CreateCustomerRequestBodyDtoFromJSON,
    CreateCustomerRequestBodyDtoToJSON,
    CustomerAnalyticsResponseDtoFromJSON,
    CustomerAnalyticsResponseDtoToJSON,
    CustomerDtoFromJSON,
    CustomerDtoToJSON,
    CustomersPageDtoFromJSON,
    CustomersPageDtoToJSON,
    ExceptionResponseEntityFromJSON,
    ExceptionResponseEntityToJSON,
    PartialUpdateCustomerRequestBodyDtoFromJSON,
    PartialUpdateCustomerRequestBodyDtoToJSON,
} from '../models/index';

export interface CreateCustomerRequest {
    createCustomerRequestBodyDto: CreateCustomerRequestBodyDto;
}

export interface FindAllCustomersRequest {
    sortOrder?: FindAllCustomersSortOrderEnum;
    sortBy?: FindAllCustomersSortByEnum;
    textSearchTerm?: string;
    subscriptionStatuses?: string;
    trialExpiresAtTo?: string;
    trialExpiresAtFrom?: string;
    subtypes?: string;
    types?: string;
    pageSize?: number;
    pageIndex?: number;
}

export interface FindByIdCustomerRequest {
    id: string;
}

export interface PartialUpdateCustomerRequest {
    id: string;
    partialUpdateCustomerRequestBodyDto: PartialUpdateCustomerRequestBodyDto;
}

/**
 * CustomersApi - interface
 * 
 * @export
 * @interface CustomersApiInterface
 */
export interface CustomersApiInterface {
    /**
     * 
     * @summary Create a new customer.
     * @param {CreateCustomerRequestBodyDto} createCustomerRequestBodyDto 
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     * @memberof CustomersApiInterface
     */
    createCustomerRaw(requestParameters: CreateCustomerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CustomerDto>>;

    /**
     * Create a new customer.
     */
    createCustomer(requestParameters: CreateCustomerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CustomerDto>;

    /**
     * 
     * @summary Lista todos os customers com paginação e filtros.
     * @param {'asc' | 'desc'} [sortOrder] Ordem de ordenação dos customers.
     * @param {'name' | 'createdAt' | 'nChildrenOrganizations' | 'mrr'} [sortBy] Campo para ordenação dos customers.
     * @param {string} [textSearchTerm] Termo para busca textual por nome/description do customer ou nome/id das organizações filhas.
     * @param {string} [subscriptionStatuses] Lista de status de subscription das organizações filhas para filtrar, separados por vírgula.
     * @param {string} [trialExpiresAtTo] Data de expiração do trial das organizações filhas até (formato ISO 8601).
     * @param {string} [trialExpiresAtFrom] Data de expiração do trial das organizações filhas a partir de (formato ISO 8601).
     * @param {string} [subtypes] Lista de subtipos de organizações filhas para filtrar, separados por vírgula.
     * @param {string} [types] Lista de tipos de customers para filtrar, separados por vírgula.
     * @param {number} [pageSize] Quantidade de itens por página.
     * @param {number} [pageIndex] Índice da página.
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     * @memberof CustomersApiInterface
     */
    findAllCustomersRaw(requestParameters: FindAllCustomersRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CustomersPageDto>>;

    /**
     * Lista todos os customers com paginação e filtros.
     */
    findAllCustomers(requestParameters: FindAllCustomersRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CustomersPageDto>;

    /**
     * 
     * @summary Busca um customer pelo identificador.
     * @param {string} id Identificador do customer.
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     * @memberof CustomersApiInterface
     */
    findByIdCustomerRaw(requestParameters: FindByIdCustomerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CustomerDto>>;

    /**
     * Busca um customer pelo identificador.
     */
    findByIdCustomer(requestParameters: FindByIdCustomerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CustomerDto>;

    /**
     * 
     * @summary Busca analytics dos customers incluindo total de clientes e MRR.
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     * @memberof CustomersApiInterface
     */
    getCustomersAnalyticsRaw(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CustomerAnalyticsResponseDto>>;

    /**
     * Busca analytics dos customers incluindo total de clientes e MRR.
     */
    getCustomersAnalytics(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CustomerAnalyticsResponseDto>;

    /**
     * 
     * @summary Partially update a customer.
     * @param {string} id Customer ID
     * @param {PartialUpdateCustomerRequestBodyDto} partialUpdateCustomerRequestBodyDto 
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     * @memberof CustomersApiInterface
     */
    partialUpdateCustomerRaw(requestParameters: PartialUpdateCustomerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CustomerDto>>;

    /**
     * Partially update a customer.
     */
    partialUpdateCustomer(requestParameters: PartialUpdateCustomerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CustomerDto>;

}

/**
 * 
 */
export class CustomersApi extends runtime.BaseAPI implements CustomersApiInterface {

    /**
     * Create a new customer.
     */
    async createCustomerRaw(requestParameters: CreateCustomerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CustomerDto>> {
        if (requestParameters['createCustomerRequestBodyDto'] == null) {
            throw new runtime.RequiredError(
                'createCustomerRequestBodyDto',
                'Required parameter "createCustomerRequestBodyDto" was null or undefined when calling createCustomer().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';


        let urlPath = `/external/customers`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: CreateCustomerRequestBodyDtoToJSON(requestParameters['createCustomerRequestBodyDto']),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => CustomerDtoFromJSON(jsonValue));
    }

    /**
     * Create a new customer.
     */
    async createCustomer(requestParameters: CreateCustomerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CustomerDto> {
        const response = await this.createCustomerRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Lista todos os customers com paginação e filtros.
     */
    async findAllCustomersRaw(requestParameters: FindAllCustomersRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CustomersPageDto>> {
        const queryParameters: any = {};

        if (requestParameters['sortOrder'] != null) {
            queryParameters['sortOrder'] = requestParameters['sortOrder'];
        }

        if (requestParameters['sortBy'] != null) {
            queryParameters['sortBy'] = requestParameters['sortBy'];
        }

        if (requestParameters['textSearchTerm'] != null) {
            queryParameters['textSearchTerm'] = requestParameters['textSearchTerm'];
        }

        if (requestParameters['subscriptionStatuses'] != null) {
            queryParameters['subscriptionStatuses'] = requestParameters['subscriptionStatuses'];
        }

        if (requestParameters['trialExpiresAtTo'] != null) {
            queryParameters['trialExpiresAtTo'] = requestParameters['trialExpiresAtTo'];
        }

        if (requestParameters['trialExpiresAtFrom'] != null) {
            queryParameters['trialExpiresAtFrom'] = requestParameters['trialExpiresAtFrom'];
        }

        if (requestParameters['subtypes'] != null) {
            queryParameters['subtypes'] = requestParameters['subtypes'];
        }

        if (requestParameters['types'] != null) {
            queryParameters['types'] = requestParameters['types'];
        }

        if (requestParameters['pageSize'] != null) {
            queryParameters['pageSize'] = requestParameters['pageSize'];
        }

        if (requestParameters['pageIndex'] != null) {
            queryParameters['pageIndex'] = requestParameters['pageIndex'];
        }

        const headerParameters: runtime.HTTPHeaders = {};


        let urlPath = `/external/customers`;

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => CustomersPageDtoFromJSON(jsonValue));
    }

    /**
     * Lista todos os customers com paginação e filtros.
     */
    async findAllCustomers(requestParameters: FindAllCustomersRequest = {}, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CustomersPageDto> {
        const response = await this.findAllCustomersRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Busca um customer pelo identificador.
     */
    async findByIdCustomerRaw(requestParameters: FindByIdCustomerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CustomerDto>> {
        if (requestParameters['id'] == null) {
            throw new runtime.RequiredError(
                'id',
                'Required parameter "id" was null or undefined when calling findByIdCustomer().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};


        let urlPath = `/external/customers/{id}`;
        urlPath = urlPath.replace(`{${"id"}}`, encodeURIComponent(String(requestParameters['id'])));

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => CustomerDtoFromJSON(jsonValue));
    }

    /**
     * Busca um customer pelo identificador.
     */
    async findByIdCustomer(requestParameters: FindByIdCustomerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CustomerDto> {
        const response = await this.findByIdCustomerRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Busca analytics dos customers incluindo total de clientes e MRR.
     */
    async getCustomersAnalyticsRaw(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CustomerAnalyticsResponseDto>> {
        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};


        let urlPath = `/external/customers/analytics`;

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => CustomerAnalyticsResponseDtoFromJSON(jsonValue));
    }

    /**
     * Busca analytics dos customers incluindo total de clientes e MRR.
     */
    async getCustomersAnalytics(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CustomerAnalyticsResponseDto> {
        const response = await this.getCustomersAnalyticsRaw(initOverrides);
        return await response.value();
    }

    /**
     * Partially update a customer.
     */
    async partialUpdateCustomerRaw(requestParameters: PartialUpdateCustomerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CustomerDto>> {
        if (requestParameters['id'] == null) {
            throw new runtime.RequiredError(
                'id',
                'Required parameter "id" was null or undefined when calling partialUpdateCustomer().'
            );
        }

        if (requestParameters['partialUpdateCustomerRequestBodyDto'] == null) {
            throw new runtime.RequiredError(
                'partialUpdateCustomerRequestBodyDto',
                'Required parameter "partialUpdateCustomerRequestBodyDto" was null or undefined when calling partialUpdateCustomer().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';


        let urlPath = `/external/customers/{id}`;
        urlPath = urlPath.replace(`{${"id"}}`, encodeURIComponent(String(requestParameters['id'])));

        const response = await this.request({
            path: urlPath,
            method: 'PATCH',
            headers: headerParameters,
            query: queryParameters,
            body: PartialUpdateCustomerRequestBodyDtoToJSON(requestParameters['partialUpdateCustomerRequestBodyDto']),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => CustomerDtoFromJSON(jsonValue));
    }

    /**
     * Partially update a customer.
     */
    async partialUpdateCustomer(requestParameters: PartialUpdateCustomerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CustomerDto> {
        const response = await this.partialUpdateCustomerRaw(requestParameters, initOverrides);
        return await response.value();
    }

}

/**
 * @export
 */
export const FindAllCustomersSortOrderEnum = {
    Asc: 'asc',
    Desc: 'desc'
} as const;
export type FindAllCustomersSortOrderEnum = typeof FindAllCustomersSortOrderEnum[keyof typeof FindAllCustomersSortOrderEnum];
/**
 * @export
 */
export const FindAllCustomersSortByEnum = {
    Name: 'name',
    CreatedAt: 'createdAt',
    NChildrenOrganizations: 'nChildrenOrganizations',
    Mrr: 'mrr'
} as const;
export type FindAllCustomersSortByEnum = typeof FindAllCustomersSortByEnum[keyof typeof FindAllCustomersSortByEnum];
